options:
  javaPackage: com.palantir.conjure.java.okhttp
  javaVisibility: packagePrivate
namespaces:
  conjure-java-client.qos:
    docs: Conjure okhttp client quality of service metrics.
    metrics:
      request-permit.slow-acquire:
        type: timer
        docs: Concurrency limiter request permit slow acquisition time.
      request-permit.leak-suspected:
        type: meter
        docs: Rate of suspected request permit leaks.
      request-permit.slow-acquire-tagged:
        type: timer
        tags: [serviceClass]
        docs: Concurrency limiter request permit slow acquisition time. Idential to `slow-acquire`, but tagged by service.
  client:
    docs: Conjure okhttp client response metrics.
    metrics:
      response:
        type: timer
        tags: [service-name]
        docs: Request time, note that this does not include time spent reading the response body.
      response.error:
        type: meter
        tags: [reason, service-name]
        docs: Rate of errors received by reason and service-name. Currently only errors with reason `IOException` are reported.
  com.palantir.conjure.java:
    shortName: Okhttp
    docs: Conjure okhttp client metrics.
    metrics:
      dispatcher.calls.queued:
        type: gauge
        docs: Reports the number of queued outgoing requests.
      dispatcher.calls.running:
        type: gauge
        docs: Reports the number of active outgoing requests.
      connection-pool.connections.total:
        type: gauge
        docs: Total number of connections in the connection pool.
      connection-pool.connections.idle:
        type: gauge
        docs: Number of idle connections in the connection pool.
